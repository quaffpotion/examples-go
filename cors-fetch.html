<html>
<body>
	<h1>test fetch request</h1>
</body>
    <script>
const reqParams = {
    headers: {
        "content-type" : "application/json",
	    "Access-Control-Allow-Origin" : "*",
	    "Vary" : "Origin",
	    "Origin" : "http://examples.com",
    },
    body: {
        test: "John Doe",
    },
    method: "POST",
	//mode: "no-cors" --> actually gets to the server
	//mode: "no-cors",
}
const request = new Request('http://localhost:8000', reqParams)
console.log("Making a fetch request...", request, reqParams)
fetch(request)
.then((response) => 
{
    console.log('Request success: ', response);
    response.json().then((data) => {
        console.log(data);
    });
})
.catch(function (error) {  
  console.log('Request failure: ', error);  
});
const proxyurl = "https://cors-anywhere.herokuapp.com/";
const url = "https://localhost:8000"; // site that doesn’t send Access-Control-*
fetch(proxyurl + url) // https://cors-anywhere.herokuapp.com/https://example.com
.then(response => response.text())
.then(contents => console.log(contents))
.catch(() => console.log("Can’t access " + url + " response. Blocked by browser?"))
</script>
</html>
